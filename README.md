# **MalwareTracker**

> an API which brings 3 website's malware data together.

This API collects malware data from 3 different websites:

- [Malshare](https://malshare.com/)
- [OpenBugBounty](https://www.openbugbounty.org/)
- [CyberCrime-Tracker](http://cybercrime-tracker.net/)

and updates itself for every 20 mins (In my case).

Check out the working demo of this repo from [HERE](http://18.185.46.178:8080/).

---

## Where to get

**1)** With `git` by running :
```
git clone https://github.com/azizkandemir/MalwareTracker.git
```

**2)** Manually by downloading 
**[zip archive](https://github.com/azizkandemir/MalwareTracker/archive/master.zip)**. 


## Quick start 

After you obtain the local copy of MalwareTracker by downloading or cloning the repository, you can
start to build API on your own system. First of all create a virtualenv inside the project folder:
```
../MalwareTracker>virtualenv venv
```

Activate your virtualenv by running:

```
../MalwareTracker>source ./venv/bin/activate
```

Then install the `requirements.txt` after you activated your venv into your `virtualenv (venv)`:
```
(venv) ../MalwareTracker>pip install -r requirements.txt
```

There are 3 different python scripts that handles data which 
for some specific usage. These python scripts are:

**1)** `malshare_script.py` is a script that you can parse [MalShare](https://malshare.com/).
                            Run with arguments:

- `--untilyesterday`, `-uyes`       Gets MD5 hashes and dates until yesterday.
  
-  `--hash2detail`, `-h2d`          Takes the data from hashes database and creates
                                    details database of these hashes.
-  `--sources24`, `-s24`            Gets the sources for last 24 hours.
 
-  `--update24`, `-up24`            Updates the intended database with the data of
                                    last day.
-  `--bydate BYDATE`, `-bd BYDATE`  Creates a database with the hashes of intended
                                    date.
-  `--update`, `-up`                Updates the intended database with the current
                                    data on website.

**2)** `epoch_to_datetime.py` is a script that converts epoch date format of details database into
datetime date format.

**3)** `rss_tracker.py` is a script that parse RSS feed of [OpenBugBounty](https://www.openbugbounty.org/) and 
[CyberCrime-Tracker](http://cybercrime-tracker.net/). 


## How to run

#### `config.py`
- To be able to run these 3 scripts that mentioned above, `config.py` needs to be modified according
to the purpose of the usage.

-  Change the related parts of the `config.py` and you are ready to run
all of those scripts.

#### `api.py`

- If you want to run a server working on `Flask` which is using this API, you need to modify `api.py`
for the ip address which will be used to run the server.

```
app.run(host='127.0.0.1', port='8080') 
```
>You may want to change host to '0.0.0.0' to be able to make API online.

#### `bin/`

- You also need to modify following bash scripts which are inside of `bin` folder:

```
    bin/          
        run_daily_digest.sh     # Bash script that handles malshare_script.py with --update24 argument.
        run_malshare_script.sh  # Bash script that handles malshare_script.py with --update argument.
        run_rss_tracker.sh      # Bash script that handles rss_tracker.py
```
## Documentation

Please visit [Documentation](https://azizkandemir.github.io/MalwareTracker/) for further information and detailed instructions.


